[pytest]
minversion = 8.0
testpaths = tests
pythonpath = src
norecursedirs = .venv .tox .pytest_cache .ruff_cache .mypy_cache .hypothesis build dist htmlcov docs

asyncio_mode = auto
timeout = 300
timeout_method = thread
timeout_func_only = true

addopts =
  -ra
  --strict-markers
  --tb=short
  --cov=bijux_cli
  --cov-branch
  --cov-config=config/coveragerc.ini
  --cov-report=term-missing:skip-covered
  --cov-report=html
  --cov-fail-under=98
#  --hypothesis-show-statistics

xfail_strict = true

markers =
  slow: mark test as slow (deselect with '-m "not slow"')
  windows: mark tests for Windows-only

filterwarnings =
  ignore:jsonschema\.exceptions\.RefResolutionError is deprecated:DeprecationWarning
  ignore:.*found in sys\.modules after import of package.*:RuntimeWarning
  ignore:.*forkpty.*:DeprecationWarning
  ignore:unclosed database.*:ResourceWarning
  ignore:coroutine .* was never awaited:RuntimeWarning

# TODO: Fix - ignore:coroutine .* was never awaited:RuntimeWarning